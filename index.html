<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WinesOf PASS - Experiencias gastron√≥micas y enotur√≠sticas</title>
    <meta name="description" content="Acced√© a las mejores bodegas, restaurantes, hoteles y vinotecas de Uruguay con descuentos de 20-30%, 2x1 y cortes√≠as todos los d√≠as.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: .7; }
        }
        .animate-pulse-soft {
            animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-neutral-950 via-stone-950 to-neutral-950 text-white">
    
    <div id="app"></div>

    <script>
        const CONFIG = {
            GOOGLE_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbx6ZaCLU7uEf3Bsj0v6DjN73tocUVHIamdMRH810EKLdlR1VHtrIBMrUyS_vUxZPsm7-w/exec',
            INITIAL_WAITLIST_COUNT: 147
        };

        let state = {
            scrolled: false,
            showModal: false,
            submitted: false,
            waitlistCount: CONFIG.INITIAL_WAITLIST_COUNT,
            formData: { name: '', email: '', phone: '', plan: 'semestral' }
        };

        async function sendToGoogleSheets(data) {
            try {
                console.log('üì§ Enviando a Google Sheets:', data);
                
                await fetch(CONFIG.GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        nombre: data.name,
                        email: data.email,
                        telefono: data.phone || '',
                        plan: data.plan,
                        posicion_waitlist: data.waitlistPosition,
                        timestamp: data.timestamp,
                        source: data.source
                    })
                });

                console.log('‚úÖ Datos enviados correctamente');
                return { success: true };
            } catch (error) {
                console.error('‚ùå Error:', error);
                return { success: false };
            }
        }

        function trackEvent(eventName, properties = {}) {
            console.log('üìä Event:', eventName, properties);
            if (typeof gtag !== 'undefined') gtag('event', eventName, properties);
            if (typeof fbq !== 'undefined') fbq('track', eventName, properties);
        }

        async function handleSubmit() {
            if (!state.formData.name || !state.formData.email) {
                alert('Por favor completa nombre y email');
                return;
            }

            const dataToSave = {
                ...state.formData,
                timestamp: new Date().toISOString(),
                waitlistPosition: state.waitlistCount + 1,
                source: 'landing_page'
            };

            trackEvent('waitlist_joined', {
                plan: state.formData.plan,
                phone_provided: !!state.formData.phone
            });

            await sendToGoogleSheets(dataToSave);

            state.submitted = true;
            state.waitlistCount++;
            render();

            setTimeout(() => {
                state.showModal = false;
                state.submitted = false;
                state.formData = { name: '', email: '', phone: '', plan: 'semestral' };
                render();
            }, 3000);
        }

        function openModal(plan = 'semestral', location = 'default') {
            trackEvent('waitlist_opened', { plan, location });
            state.formData.plan = plan;
            state.showModal = true;
            render();
        }

        function closeModal() {
            state.showModal = false;
            render();
        }

        function updateFormData(field, value) {
            state.formData[field] = value;
        }

        function render() {
            document.getElementById('app').innerHTML = `
                ${state.showModal ? renderModal() : ''}
                ${state.scrolled ? renderStickyBar() : ''}
                ${renderNav()}
                ${renderHero()}
                ${renderCategories()}
                ${renderROI()}
                ${renderBenefits()}
                ${renderPricing()}
                ${renderFAQ()}
                ${renderFinalCTA()}
                ${renderFooter()}
            `;

            lucide.createIcons();
            attachEventListeners();
        }

        function renderModal() {
            if (!state.submitted) {
                return `
                <div class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4">
                    <div class="bg-gradient-to-br from-neutral-900 to-stone-900 rounded-2xl p-8 max-w-md w-full border-2 border-rose-700/50 relative">
                        <button onclick="closeModal()" class="absolute top-4 right-4 text-stone-400 hover:text-white">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                        
                        <div class="text-center mb-6">
                            <div class="inline-flex items-center gap-2 bg-red-500/20 border border-red-500/30 rounded-full px-4 py-2 mb-4">
                                <i data-lucide="alert-circle" class="w-4 h-4 text-red-400"></i>
                                <span class="text-red-300 text-sm font-medium">Membres√≠as agotadas</span>
                            </div>
                            <h3 class="text-3xl font-bold text-white mb-2">Unite a la lista de espera</h3>
                            <p class="text-stone-300">
                                <span class="text-rose-400 font-bold">${state.waitlistCount} personas</span> ya est√°n esperando.
                            </p>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Nombre completo *</label>
                                <input type="text" id="input-name" placeholder="Juan P√©rez" value="${state.formData.name}"
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Email *</label>
                                <input type="email" id="input-email" placeholder="tu@email.com" value="${state.formData.email}"
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Tel√©fono (opcional)</label>
                                <input type="tel" id="input-phone" placeholder="099 123 456" value="${state.formData.phone}"
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Plan de inter√©s</label>
                                <select id="input-plan" class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none">
                                    <option value="mensual" ${state.formData.plan === 'mensual' ? 'selected' : ''}>Mensual - $615/mes</option>
                                    <option value="semestral" ${state.formData.plan === 'semestral' ? 'selected' : ''}>Semestral - $3.075 (1 MES GRATIS)</option>
                                    <option value="anual" ${state.formData.plan === 'anual' ? 'selected' : ''}>Anual - $6.150 (2 MESES GRATIS)</option>
                                </select>
                            </div>
                            <button onclick="handleSubmit()" class="w-full bg-gradient-to-r from-rose-700 to-red-700 text-white py-4 rounded-lg font-bold hover:scale-105 transition-transform">
                                Asegurar mi lugar
                            </button>
                            <p class="text-stone-400 text-xs text-center">Te avisaremos por email cuando haya nuevas membres√≠as</p>
                        </div>
                    </div>
                </div>`;
            } else {
                return `
                <div class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4">
                    <div class="bg-gradient-to-br from-neutral-900 to-stone-900 rounded-2xl p-8 max-w-md w-full border-2 border-rose-700/50 relative">
                        <button onclick="closeModal()" class="absolute top-4 right-4 text-stone-400 hover:text-white">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                        <div class="text-center py-8">
                            <div class="text-6xl mb-4">‚úÖ</div>
                            <h3 class="text-2xl font-bold text-white mb-2">¬°Est√°s en la lista!</h3>
                            <p class="text-stone-300 mb-4">Sos el n√∫mero <span class="text-rose-400 font-bold">#${state.waitlistCount}</span> en la fila</p>
                            <p class="text-stone-400 text-sm">Te avisaremos por email cuando liberemos m√°s cupos</p>
                        </div>
                    </div>
                </div>`;
            }
        }

        function renderStickyBar() {
            return `
            <div class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-rose-700 to-red-700 p-4 z-40 shadow-2xl">
                <div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
                    <div class="text-white text-center sm:text-left">
                        <p class="font-bold">üî• Membres√≠as agotadas - ${state.waitlistCount} personas esperando</p>
                        <p class="text-sm text-orange-100">Pr√≥xima tanda: Noviembre 2025</p>
                    </div>
                    <button onclick="openModal('semestral', 'sticky_bar')" 
                        class="bg-white text-rose-700 px-6 py-3 rounded-full font-bold hover:scale-105 transition-transform shadow-lg whitespace-nowrap">
                        Unirme a la lista
                    </button>
                </div>
            </div>`;
        }

        function renderNav() {
            return `
            <nav class="fixed top-0 w-full z-50 transition-all duration-300 ${state.scrolled ? 'bg-neutral-950/95 backdrop-blur-lg shadow-xl' : 'bg-transparent'}">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <div class="relative w-10 h-10">
                            <div class="absolute inset-0 bg-gradient-to-br from-rose-700 to-red-800 rounded-full opacity-20"></div>
                            <i data-lucide="map-pin" class="absolute inset-0 m-auto text-rose-600 w-6 h-6"></i>
                        </div>
                        <span class="text-2xl font-bold text-white">WinesOf<span class="text-rose-500">PASS</span></span>
                    </div>
                    <button onclick="openModal('semestral', 'navbar')" 
                        class="bg-gradient-to-r from-rose-700 to-red-700 text-white px-6 py-2.5 rounded-full font-semibold hover:scale-105 transition-transform shadow-lg">
                        Unirme a la lista
                    </button>
                </div>
            </nav>`;
        }

        function renderHero() {
            return `
            <section class="pt-32 pb-20 px-4 relative overflow-hidden">
                <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(190,18,60,0.15),transparent_50%)]"></div>
                <div class="max-w-5xl mx-auto text-center relative z-10">
                    <div class="inline-flex items-center gap-2 bg-red-500/20 border border-red-500/30 rounded-full px-4 py-2 mb-6 backdrop-blur-sm animate-pulse-soft">
                        <i data-lucide="alert-circle" class="w-4 h-4 text-red-300"></i>
                        <span class="text-red-200 text-sm font-medium">üî• AGOTADO - ${state.waitlistCount} personas en lista de espera</span>
                    </div>
                    
                    <h1 class="text-4xl sm:text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
                        Experiencias gastron√≥micas<br>y enotur√≠sticas
                        <span class="bg-gradient-to-r from-rose-400 to-red-400 bg-clip-text text-transparent"> sin l√≠mites</span>
                    </h1>
                    
                    <p class="text-lg sm:text-xl md:text-2xl text-stone-300 mb-8 max-w-3xl mx-auto">
                        Acced√© a las mejores <strong class="text-white">bodegas, restaurantes, hoteles y vinotecas</strong> de Uruguay con <strong class="text-rose-400">descuentos de 20-30%, 2x1 y cortes√≠as</strong> todos los d√≠as.
                    </p>

                    <div class="bg-stone-900/50 border-2 border-red-500/50 rounded-2xl p-6 mb-8 max-w-2xl mx-auto backdrop-blur-sm">
                        <p class="text-red-400 font-bold text-lg mb-2">‚ö†Ô∏è Todas las membres√≠as de Octubre est√°n vendidas</p>
                        <p class="text-stone-300">La pr√≥xima tanda se libera en <strong class="text-white">Noviembre 2025</strong></p>
                    </div>

                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="openModal('semestral', 'hero_primary')" 
                            class="bg-gradient-to-r from-rose-700 to-red-700 text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-2xl shadow-rose-700/50 flex items-center justify-center gap-2 group">
                            Unirme a la lista de espera
                            <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                        <button onclick="document.getElementById('pricing').scrollIntoView({behavior: 'smooth'})" 
                            class="border-2 border-rose-500 text-rose-400 px-8 py-4 rounded-full font-semibold text-lg hover:bg-rose-950/30 transition-all backdrop-blur-sm">
                            Ver planes y precios
                        </button>
                    </div>
                </div>
            </section>`;
        }

        function renderCategories() {
            const categories = [
                { icon: 'wine', name: 'Bodegas', desc: 'Degustaciones exclusivas', detail: 'Acced√© a las bodegas m√°s prestigiosas con 2x1 en degustaciones y 20% OFF', color: 'from-rose-700 to-red-800' },
                { icon: 'utensils', name: 'Gastronom√≠a', desc: 'Restaurantes gourmet', detail: '20-30% de descuento en men√∫s de autor y cortes√≠as especiales', color: 'from-red-500 to-rose-600' },
                { icon: 'hotel', name: 'Hoteler√≠a', desc: 'Escapadas de ensue√±o', detail: 'Descuentos en hoteles boutique y experiencias enotur√≠sticas completas', color: 'from-pink-600 to-rose-700' },
                { icon: 'shopping-bag', name: 'Vinotecas', desc: 'Vinos para llevar', detail: '15-25% OFF en tu vinoteca favorita y acceso a ediciones limitadas', color: 'from-rose-600 to-red-700' }
            ];
            
            return `
            <section class="py-16 px-4 bg-neutral-900/30">
                <div class="max-w-6xl mx-auto">
                    <h3 class="text-2xl md:text-3xl font-bold text-white text-center mb-3">M√°s de 80 experiencias en 4 categor√≠as</h3>
                    <p class="text-stone-400 text-center mb-12 max-w-2xl mx-auto">Desde degustaciones en bodegas boutique hasta cenas en restaurantes de autor</p>
                    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        ${categories.map(cat => `
                        <div class="bg-gradient-to-br from-neutral-900 to-stone-900 p-6 rounded-2xl border border-rose-700/20 hover:border-rose-600/50 transition-all hover:scale-105 group">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-br ${cat.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                <i data-lucide="${cat.icon}" class="w-7 h-7 text-white"></i>
                            </div>
                            <h4 class="text-white font-bold text-xl mb-2">${cat.name}</h4>
                            <p class="text-rose-400 text-sm font-semibold mb-3">${cat.desc}</p>
                            <p class="text-stone-400 text-sm leading-relaxed">${cat.detail}</p>
                        </div>`).join('')}
                    </div>
                </div>
            </section>`;
        }

        function renderROI() {
            return `
            <section class="py-16 px-4">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-gradient-to-br from-neutral-900 to-stone-900 rounded-2xl p-8 border-2 border-rose-700/30">
                        <h3 class="text-2xl md:text-3xl font-bold text-white text-center mb-6">üí∞ ¬øPor qu√© se agot√≥ tan r√°pido?</h3>
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="bg-stone-800/50 rounded-xl p-6">
                                <p class="text-stone-300 mb-2">Sin WinesOf PASS:</p>
                                <p class="text-white text-lg">2 salidas/semana √ó $2.500 promedio</p>
                                <p class="text-3xl font-bold text-red-400 mt-2">= $20.000/mes</p>
                            </div>
                            <div class="bg-stone-800/50 rounded-xl p-6 border-2 border-rose-700">
                                <p class="text-stone-300 mb-2">Con WinesOf PASS:</p>
                                <p class="text-white text-lg">2 salidas/semana √ó $1.500 (con descuentos)</p>
                                <p class="text-3xl font-bold text-green-400 mt-2">= $12.000/mes</p>
                            </div>
                        </div>
                        <div class="text-center bg-gradient-to-r from-rose-700 to-red-700 rounded-xl p-6">
                            <p class="text-white text-2xl font-bold">‚ú® Ahorr√°s $8.000/mes = $96.000/a√±o</p>
                            <p class="text-rose-100 mt-2">El PASS se paga solo en la primera salida</p>
                        </div>
                    </div>
                </div>
            </section>`;
        }

        function renderBenefits() {
            return `
            <section class="py-20 px-4 bg-neutral-900/30">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-12">¬øPor qu√© m√°s de 2.400 personas eligen WinesOf PASS?</h2>
                    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
                        ${[
                            { icon: 'wine', text: 'M√°s de 80 experiencias', highlight: 'vino, gastronom√≠a y m√°s' },
                            { icon: 'utensils', text: '20-30% de descuento', highlight: 'en restaurantes premium' },
                            { icon: 'hotel', text: 'Beneficios en hoteles', highlight: 'escapadas exclusivas' },
                            { icon: 'gift', text: '2x1 y cortes√≠as', highlight: 'al consumir en locales' }
                        ].map(b => `
                        <div class="bg-gradient-to-br from-neutral-900/80 to-stone-900/80 p-6 rounded-2xl border border-rose-700/20 hover:border-rose-600/50 transition-all hover:scale-105">
                            <i data-lucide="${b.icon}" class="w-8 h-8 text-rose-500 mb-4"></i>
                            <h3 class="text-white font-semibold text-lg mb-2">${b.text}</h3>
                            <p class="text-rose-400 font-medium">${b.highlight}</p>
                        </div>`).join('')}
                    </div>
                </div>
            </section>`;
        }

        function renderPricing() {
            const plans = [
                { name: 'Mensual', price: '615', period: '/mes', popular: false, savings: 'Prob√° sin compromiso', features: ['Todos los descuentos', 'Sin permanencia', 'Acceso inmediato', 'App m√≥vil'], value: 'mensual' },
                { name: 'Semestral', price: '3.075', originalPrice: '3.690', period: '/6 meses', popular: true, savings: '1 mes GRATIS - Ahorr√°s $615', discount: '1 MES GRATIS', features: ['Todos los descuentos', 'Evento exclusivo', 'Prioridad reservas', 'App m√≥vil', 'Regalo bienvenida'], value: 'semestral' },
                { name: 'Anual', price: '6.150', originalPrice: '7.380', period: '/a√±o', popular: false, savings: '2 meses GRATIS - Ahorr√°s $1.230', discount: '2 MESES GRATIS', features: ['Todos los descuentos', '3 eventos exclusivos', 'M√°xima prioridad', 'App m√≥vil', 'Pack premium', 'Upgrades gratis'], value: 'anual' }
            ];
            
            return `
            <section id="pricing" class="py-20 px-4 bg-neutral-900/30">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-4">Planes disponibles en Noviembre 2025</h2>
                    <p class="text-stone-300 text-center mb-12 text-lg">Asegur√° tu lugar ahora. Los precios podr√≠an aumentar en la pr√≥xima tanda.</p>
                    <div class="grid md:grid-cols-3 gap-8">
                        ${plans.map(plan => `
                        <div class="relative bg-gradient-to-br from-neutral-900/80 to-stone-900/80 p-8 rounded-2xl border-2 ${plan.popular ? 'border-rose-600 shadow-2xl shadow-rose-700/30' : 'border-stone-700'} transition-all hover:scale-105">
                            ${plan.popular ? '<div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-rose-700 to-red-700 text-white px-4 py-1 rounded-full text-sm font-bold">M√ÅS ELEGIDO</div>' : ''}
                            ${plan.discount ? `<div class="absolute -top-4 -right-4 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-bold rotate-12">${plan.discount}</div>` : ''}
                            <div class="absolute top-4 right-4">
                                <div class="bg-red-500/20 border border-red-500/30 rounded-full px-2 py-1">
                                    <span class="text-red-300 text-xs font-bold">AGOTADO</span>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-2">${plan.name}</h3>
                            <div class="mb-4">
                                <span class="text-5xl font-bold text-white">$${plan.price}</span>
                                <span class="text-stone-400">${plan.period}</span>
                                ${plan.originalPrice ? `<div class="mt-1"><span class="text-stone-500 line-through text-sm">$${plan.originalPrice}</span></div>` : ''}
                            </div>
                            <div class="bg-rose-700/20 border border-rose-600/30 rounded-lg px-3 py-2 mb-6">
                                <p class="text-rose-300 font-semibold text-sm">${plan.savings}</p>
                            </div>
                            <ul class="space-y-3 mb-8">
                                ${plan.features.map(f => `
                                <li class="flex items-start gap-2 text-stone-300">
                                    <i data-lucide="check" class="w-5 h-5 text-rose-500 flex-shrink-0 mt-0.5"></i>
                                    <span>${f}</span>
                                </li>`).join('')}
                            </ul>
                            <button onclick="openModal('${plan.value}', 'pricing')" 
                                class="w-full py-3 rounded-xl font-bold transition-all ${plan.popular ? 'bg-gradient-to-r from-rose-700 to-red-700 text-white hover:scale-105 shadow-lg shadow-rose-700/50' : 'bg-stone-700 text-white hover:bg-stone-600'}">
                                Reservar ${plan.name}
                            </button>
                        </div>`).join('')}
                    </div>
                    <div class="mt-12 text-center bg-stone-800/50 rounded-xl p-6 border border-rose-700/20">
                        <p class="text-white text-lg font-semibold mb-2">‚úÖ Precio bloqueado</p>
                        <p class="text-stone-300">Al unirte a la lista, garantizamos estos precios para tu primera compra</p>
                    </div>
                </div>
            </section>`;
        }

        function renderFAQ() {
            const faqs = [
                { q: '¬øCu√°ndo hay nuevas membres√≠as?', a: 'Liberamos tandas limitadas cada mes. La pr√≥xima es en Noviembre 2025. Al unirte a la lista, te avisamos 24hs antes del lanzamiento.' },
                { q: '¬øPor qu√© se limitan las membres√≠as?', a: 'Para garantizar la mejor experiencia en cada establecimiento. No queremos saturar los lugares y mantener la exclusividad.' },
                { q: '¬øQu√© tipo de beneficios incluye?', a: '2x1 en copas y botellas, 20-30% de descuento en men√∫s, cortes√≠as al consumir, y acceso a eventos exclusivos en bodegas y restaurantes.' },
                { q: '¬øD√≥nde puedo usar el PASS?', a: 'En m√°s de 80 experiencias: bodegas, restaurantes gourmet, hoteles boutique y vinotecas premium en todo Uruguay.' },
                { q: '¬øPuedo cancelar cuando quiera?', a: 'S√≠, sin permanencia. Cancel√°s desde la app cuando quieras, sin preguntas ni penalizaciones.' }
            ];
            
            return `
            <section class="py-20 px-4 bg-neutral-900/30">
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-12">Preguntas frecuentes</h2>
                    <div class="space-y-4">
                        ${faqs.map((faq, i) => `
                        <details class="bg-stone-800/50 rounded-xl p-6 border border-stone-700 hover:border-rose-600/50 transition-all">
                            <summary class="text-white font-semibold cursor-pointer">${faq.q}</summary>
                            <p class="text-stone-300 mt-3">${faq.a}</p>
                        </details>`).join('')}
                    </div>
                </div>
            </section>`;
        }

        function renderFinalCTA() {
            return `
            <section class="py-20 px-4 relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-rose-900/30 to-red-900/30"></div>
                <div class="max-w-4xl mx-auto text-center relative z-10">
                    <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">¬øListo para ser parte de la pr√≥xima tanda?</h2>
                    <p class="text-xl text-stone-300 mb-8">
                        <strong class="text-white">${state.waitlistCount}+ personas</strong> ya est√°n esperando su lugar
                    </p>
                    <button onclick="openModal('semestral', 'final_cta')" 
                        class="bg-gradient-to-r from-rose-700 to-red-700 text-white px-12 py-5 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-2xl shadow-rose-700/50">
                        Asegurar mi lugar ahora üç∑
                    </button>
                    <p class="text-stone-400 mt-6 text-sm">‚úì Notificaci√≥n prioritaria ¬∑ ‚úì Precio bloqueado ¬∑ ‚úì Bonus exclusivo</p>
                </div>
            </section>`;
        }

        function renderFooter() {
            return `
            <footer class="bg-neutral-950 py-8 px-4 border-t border-stone-800">
                <div class="max-w-6xl mx-auto text-center text-stone-400 text-sm">
                    <p>¬© 2025 WinesOf PASS ¬∑ Todos los derechos reservados</p>
                </div>
            </footer>`;
        }

        function attachEventListeners() {
            const nameInput = document.getElementById('input-name');
            const emailInput = document.getElementById('input-email');
            const phoneInput = document.getElementById('input-phone');
            const planInput = document.getElementById('input-plan');

            if (nameInput) nameInput.addEventListener('input', (e) => updateFormData('name', e.target.value));
            if (emailInput) emailInput.addEventListener('input', (e) => updateFormData('email', e.target.value));
            if (phoneInput) phoneInput.addEventListener('input', (e) => updateFormData('phone', e.target.value));
            if (planInput) planInput.addEventListener('change', (e) => updateFormData('plan', e.target.value));

            if (nameInput || emailInput) {
                [nameInput, emailInput].forEach(input => {
                    if (input) {
                        input.addEventListener('keypress', (e) => {
                            if (e.key === 'Enter') handleSubmit();
                        });
                    }
                });
            }
        }

        window.addEventListener('scroll', () => {
            const newScrolled = window.scrollY > 50;
            if (newScrolled !== state.scrolled) {
                state.scrolled = newScrolled;
                render();
            }
        });

        setInterval(() => {
            if (Math.random() > 0.7) {
                state.waitlistCount++;
                if (state.scrolled || document.querySelector('.animate-pulse-soft')) {
                    render();
                }
            }
        }, 45000);

        render();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WinesOf PASS - Experiencias gastron√≥micas y enotur√≠sticas</title>
    <meta name="description" content="Acced√© a las mejores bodegas, restaurantes, hoteles y vinotecas de Uruguay con descuentos de 20-30%, 2x1 y cortes√≠as.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; }
            50% { opacity: .7; }
        }
        .animate-pulse-soft {
            animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-neutral-950 via-stone-950 to-neutral-950 text-white">
    
    <div id="app"></div>

    <script>
        const CONFIG = {
            GOOGLE_SCRIPT_URL: 'https://script.google.com/macros/s/AKfycbx6ZaCLU7uEf3Bsj0v6DjN73tocUVHIamdMRH810EKLdlR1VHtrIBMrUyS_vUxZPsm7-w/exec',
            INITIAL_WAITLIST_COUNT: 147
        };

        const state = {
            scrolled: false,
            showModal: false,
            submitted: false,
            waitlistCount: CONFIG.INITIAL_WAITLIST_COUNT,
            isUruguay: true,
            currency: '$',
            activeTestimonial: 0,
            lastManualChange: 0
        };

        async function detectCountry() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                state.isUruguay = data.country_code === 'UY';
                state.currency = state.isUruguay ? '$' : 'USD';
                console.log('Pa√≠s detectado:', data.country_code);
            } catch (error) {
                console.log('No se pudo detectar pa√≠s');
            }
        }

        async function sendToGoogleSheets(data) {
            try {
                await fetch(CONFIG.GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        nombre: data.name,
                        email: data.email,
                        telefono: data.phone || '',
                        plan: data.plan,
                        posicion_waitlist: data.waitlistPosition,
                        timestamp: data.timestamp,
                        source: data.source
                    })
                });
                return { success: true };
            } catch (error) {
                return { success: false };
            }
        }

        function trackEvent(eventName, properties = {}) {
            console.log('Event:', eventName, properties);
            if (typeof gtag !== 'undefined') gtag('event', eventName, properties);
            if (typeof fbq !== 'undefined') fbq('track', eventName, properties);
        }

        async function handleSubmit() {
            const nameInput = document.getElementById('input-name');
            const emailInput = document.getElementById('input-email');
            const phoneInput = document.getElementById('input-phone');
            const planInput = document.getElementById('input-plan');
            
            if (!nameInput || !emailInput || !nameInput.value || !emailInput.value) {
                alert('Por favor completa nombre y email');
                return;
            }

            const dataToSave = {
                name: nameInput.value,
                email: emailInput.value,
                phone: phoneInput?.value || '',
                plan: planInput?.value || 'semestral',
                timestamp: new Date().toISOString(),
                waitlistPosition: state.waitlistCount + 1,
                source: 'landing_page'
            };

            trackEvent('waitlist_joined', {
                plan: dataToSave.plan,
                phone_provided: !!dataToSave.phone
            });

            await sendToGoogleSheets(dataToSave);

            state.submitted = true;
            state.waitlistCount++;
            
            const modal = document.querySelector('.modal-content');
            if (modal) {
                modal.innerHTML = `
                    <button class="close-modal absolute top-4 right-4 text-stone-400 hover:text-white">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                    <div class="text-center py-8">
                        <div class="text-6xl mb-4">‚úÖ</div>
                        <h3 class="text-2xl font-bold text-white mb-2">¬°Est√°s en la lista!</h3>
                        <p class="text-stone-300 mb-4">Sos el n√∫mero <span class="text-rose-400 font-bold">#${state.waitlistCount}</span> en la fila</p>
                        <p class="text-stone-400 text-sm">Te avisaremos por email cuando liberemos m√°s cupos</p>
                    </div>
                `;
                lucide.createIcons();
                
                setTimeout(() => {
                    closeModal();
                }, 3000);
            }
        }

        function openModal(plan = 'semestral') {
            state.showModal = true;
            
            const c = state.currency;
            const p1 = state.isUruguay ? '615' : '15';
            const p2 = state.isUruguay ? '3.075' : '75';
            const p3 = state.isUruguay ? '6.150' : '150';
            
            const modalHTML = `
                <div class="modal-backdrop fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4">
                    <div class="modal-content bg-gradient-to-br from-neutral-900 to-stone-900 rounded-2xl p-8 max-w-md w-full border-2 border-rose-700/50 relative">
                        <button class="close-modal absolute top-4 right-4 text-stone-400 hover:text-white">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                        
                        <div class="text-center mb-6">
                            <div class="inline-flex items-center gap-2 bg-red-500/20 border border-red-500/30 rounded-full px-4 py-2 mb-4">
                                <i data-lucide="alert-circle" class="w-4 h-4 text-red-400"></i>
                                <span class="text-red-300 text-sm font-medium">Membres√≠as agotadas</span>
                            </div>
                            <h3 class="text-3xl font-bold text-white mb-2">Unite a la lista exclusiva</h3>
                            <p class="text-stone-300">
                                <span class="text-rose-400 font-bold">${state.waitlistCount} personas</span> esperando acceso a la lista secreta de descuentos.
                            </p>
                        </div>

                        <form class="waitlist-form space-y-4">
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Nombre completo *</label>
                                <input type="text" id="input-name" placeholder="Juan P√©rez" required
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none focus:ring-2 focus:ring-rose-600/50">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Email *</label>
                                <input type="email" id="input-email" placeholder="tu@email.com" required
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none focus:ring-2 focus:ring-rose-600/50">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Tel√©fono (opcional)</label>
                                <input type="tel" id="input-phone" placeholder="099 123 456"
                                    class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none focus:ring-2 focus:ring-rose-600/50">
                            </div>
                            <div>
                                <label class="text-stone-300 text-sm font-medium block mb-1">Plan de inter√©s</label>
                                <select id="input-plan" class="w-full px-4 py-3 rounded-lg bg-stone-800 text-white border border-stone-700 focus:border-rose-600 focus:outline-none">
                                    <option value="mensual">Mensual - ${c}${p1}/mes</option>
                                    <option value="semestral" ${plan === 'semestral' ? 'selected' : ''}>Semestral - ${c}${p2} (1 MES GRATIS)</option>
                                    <option value="anual" ${plan === 'anual' ? 'selected' : ''}>Anual - ${c}${p3} (2 MESES GRATIS)</option>
                                </select>
                            </div>
                            <button type="submit" class="w-full bg-gradient-to-r from-rose-700 to-red-700 text-white py-4 rounded-lg font-bold hover:scale-105 transition-transform">
                                Asegurar mi lugar en la lista
                            </button>
                            <p class="text-stone-400 text-xs text-center">üîí Lista exclusiva: Acceso anticipado a nuevos beneficios y sorteos mensuales</p>
                        </form>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            lucide.createIcons();
        }

        function closeModal() {
            state.showModal = false;
            state.submitted = false;
            const modal = document.querySelector('.modal-backdrop');
            if (modal) modal.remove();
        }

        document.addEventListener('click', function(e) {
            if (e.target.closest('.close-modal') || e.target.classList.contains('modal-backdrop')) {
                closeModal();
            }
            
            if (e.target.closest('.open-modal')) {
                const btn = e.target.closest('.open-modal');
                const plan = btn.dataset.plan || 'semestral';
                trackEvent('waitlist_opened', { plan, location: btn.dataset.location });
                openModal(plan);
            }
            
            if (e.target.closest('.scroll-pricing')) {
                document.getElementById('pricing')?.scrollIntoView({behavior: 'smooth'});
            }
        });

        document.addEventListener('submit', function(e) {
            if (e.target.classList.contains('waitlist-form')) {
                e.preventDefault();
                handleSubmit();
            }
        });

        function init() {
            const app = document.getElementById('app');
            
            const locationText = state.isUruguay ? 'de Uruguay' : 'en Uruguay';
            const locationDetail = state.isUruguay 
                ? 'con descuentos de 20-30%, 2x1 y cortes√≠as todos los d√≠as' 
                : 'con descuentos de 20-30%, 2x1 y cortes√≠as durante tu estad√≠a. Descubr√≠ Montevideo, Punta del Este, Colonia, Maldonado y m√°s';
            
            const c = state.currency;
            const mp = state.isUruguay ? '615' : '15';
            const sp = state.isUruguay ? '3.075' : '75';
            const so = state.isUruguay ? '3.690' : '90';
            const ss = state.isUruguay ? '615' : '15';
            const ap = state.isUruguay ? '6.150' : '150';
            const ao = state.isUruguay ? '7.380' : '180';
            const as = state.isUruguay ? '1.230' : '30';
            
            app.innerHTML = `
                ${state.scrolled ? `
                <div class="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-rose-700 to-red-700 p-4 z-40 shadow-2xl">
                    <div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
                        <div class="text-white text-center sm:text-left">
                            <p class="font-bold">üî• Membres√≠as agotadas - ${state.waitlistCount} personas esperando</p>
                            <p class="text-sm text-orange-100">Pr√≥xima tanda: Noviembre 2025</p>
                        </div>
                        <button class="open-modal bg-white text-rose-700 px-6 py-3 rounded-full font-bold hover:scale-105 transition-transform shadow-lg" data-plan="semestral" data-location="sticky">
                            Unirme a la lista
                        </button>
                    </div>
                </div>` : ''}

                <nav class="fixed top-0 w-full z-50 transition-all duration-300 ${state.scrolled ? 'bg-neutral-950/95 backdrop-blur-lg shadow-xl' : 'bg-transparent'}">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
                        <div class="flex items-center gap-3">
                            <div class="relative w-10 h-10">
                                <div class="absolute inset-0 bg-gradient-to-br from-rose-700 to-red-800 rounded-full opacity-20"></div>
                                <i data-lucide="map-pin" class="absolute inset-0 m-auto text-rose-600 w-6 h-6"></i>
                            </div>
                            <span class="text-2xl font-bold text-white">WinesOf<span class="text-rose-500">PASS</span></span>
                        </div>
                        <button class="open-modal bg-gradient-to-r from-rose-700 to-red-700 text-white px-6 py-2.5 rounded-full font-semibold hover:scale-105 transition-transform shadow-lg" data-plan="semestral" data-location="navbar">
                            Unirme a la lista
                        </button>
                    </div>
                </nav>

                <section class="pt-32 pb-20 px-4 relative overflow-hidden">
                    <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(190,18,60,0.15),transparent_50%)]"></div>
                    <div class="max-w-5xl mx-auto text-center relative z-10">
                        <div class="inline-flex items-center gap-2 bg-red-500/20 border border-red-500/30 rounded-full px-4 py-2 mb-6 backdrop-blur-sm animate-pulse-soft">
                            <i data-lucide="alert-circle" class="w-4 h-4 text-red-300"></i>
                            <span class="text-red-200 text-sm font-medium">üî• AGOTADO - ${state.waitlistCount} personas esperando acceso</span>
                        </div>
                        
                        <h1 class="text-4xl sm:text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
                            Experiencias gastron√≥micas<br>y enotur√≠sticas
                            <span class="bg-gradient-to-r from-rose-400 to-red-400 bg-clip-text text-transparent"> sin l√≠mites</span>
                        </h1>
                        
                        <p class="text-lg sm:text-xl md:text-2xl text-stone-300 mb-8 max-w-3xl mx-auto">
                            Acced√© a las mejores <strong class="text-white">bodegas, restaurantes, hoteles y vinotecas</strong> ${locationText} ${locationDetail}.
                        </p>

                        <div class="bg-stone-900/50 border-2 border-red-500/50 rounded-2xl p-6 mb-8 max-w-2xl mx-auto backdrop-blur-sm">
                            <p class="text-red-400 font-bold text-lg mb-2">üîí Lista exclusiva de acceso limitado</p>
                            <p class="text-stone-300">Pr√≥xima apertura: <strong class="text-white">Noviembre 2025</strong> ‚Ä¢ Cupos limitados</p>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <button class="open-modal bg-gradient-to-r from-rose-700 to-red-700 text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-2xl shadow-rose-700/50 flex items-center justify-center gap-2 group" data-plan="semestral" data-location="hero">
                                Asegurar mi lugar
                                <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                            </button>
                            <button class="scroll-pricing border-2 border-rose-500 text-rose-400 px-8 py-4 rounded-full font-semibold text-lg hover:bg-rose-950/30 transition-all backdrop-blur-sm">
                                Ver planes y precios
                            </button>
                        </div>
                    </div>
                </section>

                <section class="py-16 px-4 bg-neutral-900/30">
                    <div class="max-w-6xl mx-auto">
                        <h3 class="text-2xl md:text-3xl font-bold text-white text-center mb-3">M√°s de 80 experiencias en 4 categor√≠as</h3>
                        <p class="text-stone-400 text-center mb-12 max-w-2xl mx-auto">Desde degustaciones en bodegas boutique hasta cenas en restaurantes de autor</p>
                        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
                            ${[
                                { icon: 'wine', name: 'Bodegas', desc: 'Degustaciones exclusivas', detail: 'Acced√© a bodegas premium con 2x1 y 20% OFF', color: 'from-rose-700 to-red-800' },
                                { icon: 'utensils', name: 'Gastronom√≠a', desc: 'Restaurantes gourmet', detail: '20-30% de descuento y cortes√≠as especiales', color: 'from-red-500 to-rose-600' },
                                { icon: 'hotel', name: 'Hoteler√≠a', desc: 'Escapadas de ensue√±o', detail: 'Descuentos en hoteles y experiencias completas', color: 'from-pink-600 to-rose-700' },
                                { icon: 'shopping-bag', name: 'Vinotecas', desc: 'Vinos para llevar', detail: '15-25% OFF y acceso a ediciones limitadas', color: 'from-rose-600 to-red-700' }
                            ].map(cat => `
                            <div class="bg-gradient-to-br from-neutral-900 to-stone-900 p-6 rounded-2xl border border-rose-700/20 hover:border-rose-600/50 transition-all hover:scale-105 group">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br ${cat.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                    <i data-lucide="${cat.icon}" class="w-7 h-7 text-white"></i>
                                </div>
                                <h4 class="text-white font-bold text-xl mb-2">${cat.name}</h4>
                                <p class="text-rose-400 text-sm font-semibold mb-3">${cat.desc}</p>
                                <p class="text-stone-400 text-sm leading-relaxed">${cat.detail}</p>
                            </div>`).join('')}
                        </div>
                    </div>
                </section>

                <section class="py-16 px-4">
                    <div class="max-w-4xl mx-auto">
                        <div class="bg-gradient-to-br from-neutral-900 to-stone-900 rounded-2xl p-8 border-2 border-rose-700/30">
                            <h3 class="text-2xl md:text-3xl font-bold text-white text-center mb-6">üí∞ ¬øPor qu√© se agot√≥ tan r√°pido?</h3>
                            <div class="grid md:grid-cols-2 gap-6 mb-6">
                                <div class="bg-stone-800/50 rounded-xl p-6">
                                    <p class="text-stone-300 mb-2">Sin WinesOf PASS:</p>
                                    <p class="text-white text-lg">1 salida/semana √ó ${c}${state.isUruguay ? '2.500' : '60'} promedio</p>
                                    <p class="text-3xl font-bold text-red-400 mt-2">= ${c}${state.isUruguay ? '10.000' : '240'}/mes</p>
                                </div>
                                <div class="bg-stone-800/50 rounded-xl p-6 border-2 border-rose-700">
                                    <p class="text-stone-300 mb-2">Con WinesOf PASS:</p>
                                    <p class="text-white text-lg">1 salida/semana √ó ${c}${state.isUruguay ? '1.500' : '35'} (con descuentos)</p>
                                    <p class="text-3xl font-bold text-green-400 mt-2">= ${c}${state.isUruguay ? '6.000' : '140'}/mes</p>
                                </div>
                            </div>
                            <div class="text-center bg-gradient-to-r from-rose-700 to-red-700 rounded-xl p-6">
                                <p class="text-white text-2xl font-bold">‚ú® Ahorr√°s ${c}${state.isUruguay ? '4.000' : '100'}/mes = ${c}${state.isUruguay ? '48.000' : '1.200'}/a√±o</p>
                                <p class="text-rose-100 mt-2">El PASS se paga solo en 2 salidas. A mayor frecuencia, mayor ahorro.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="py-20 px-4">
                    <div class="max-w-5xl mx-auto">
                        <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-4">Historias reales de nuestros miembros</h2>
                        <p class="text-stone-400 text-center mb-12">Diferentes perfiles, mismo resultado: m√°s experiencias, menos gasto</p>
                        
                        <div class="relative">
                            <div id="testimonial-card" class="bg-gradient-to-br from-neutral-900/90 to-stone-900/90 rounded-2xl p-8 md:p-12 border border-rose-700/30 backdrop-blur-sm min-h-[320px] flex flex-col justify-center transition-all duration-700">
                                <div class="flex items-start gap-4 mb-6">
                                    <div class="text-5xl flex-shrink-0">üçΩÔ∏è</div>
                                    <div>
                                        <h3 class="text-white font-bold text-xl mb-1">Carolina M.</h3>
                                        <p class="text-rose-400 text-sm font-medium">Foodie & Content Creator</p>
                                    </div>
                                </div>
                                <p class="text-stone-200 text-lg md:text-xl leading-relaxed mb-6 italic">"Como creadora de contenido gastron√≥mico, visito restaurantes constantemente. Antes gastaba fortunas. Ahora con el PASS ceno en los mejores lugares y adem√°s ahorro para viajes."</p>
                                <div class="inline-flex items-center gap-2 bg-rose-700/20 border border-rose-600/30 rounded-full px-4 py-2 self-start">
                                    <i data-lucide="check-circle" class="w-4 h-4 text-rose-400"></i>
                                    <span class="text-rose-300 text-sm font-semibold">Ahorro real: $6.500/mes</span>
                                </div>
                            </div>

                            <div class="flex justify-center gap-2 mt-8">
                                ${[0,1,2,3,4,5].map(idx => `
                                    <button class="testimonial-dot transition-all ${idx === 0 ? 'w-8 h-2 bg-rose-500' : 'w-2 h-2 bg-stone-600 hover:bg-stone-500'} rounded-full" data-index="${idx}"></button>
                                `).join('')}
                            </div>

                            <div class="flex justify-center gap-4 mt-6">
                                <button class="testimonial-prev text-stone-400 hover:text-white transition-colors">
                                    <i data-lucide="chevron-left" class="w-8 h-8"></i>
                                </button>
                                <button class="testimonial-next text-stone-400 hover:text-white transition-colors">
                                    <i data-lucide="chevron-right" class="w-8 h-8"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="py-20 px-4 bg-neutral-900/30">
                    <div class="max-w-6xl mx-auto">
                        <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-12">¬øPor qu√© m√°s de 2.400 personas eligen WinesOf PASS?</h2>
                        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
                            ${[
                                { icon: 'wine', text: 'M√°s de 80 experiencias', highlight: 'vino, gastronom√≠a y m√°s' },
                                { icon: 'utensils', text: '20-30% de descuento', highlight: 'en restaurantes premium' },
                                { icon: 'hotel', text: 'Beneficios en hoteles', highlight: 'escapadas exclusivas' },
                                { icon: 'gift', text: '2x1 y cortes√≠as', highlight: 'al consumir en locales' }
                            ].map(b => `
                            <div class="bg-gradient-to-br from-neutral-900/80 to-stone-900/80 p-6 rounded-2xl border border-rose-700/20 hover:border-rose-600/50 transition-all hover:scale-105">
                                <i data-lucide="${b.icon}" class="w-8 h-8 text-rose-500 mb-4"></i>
                                <h3 class="text-white font-semibold text-lg mb-2">${b.text}</h3>
                                <p class="text-rose-400 font-medium">${b.highlight}</p>
                            </div>`).join('')}
                        </div>
                    </div>
                </section>

                <section id="pricing" class="py-20 px-4 bg-neutral-900/30">
                    <div class="max-w-6xl mx-auto">
                        <h2 class="text-3xl md:text-4xl font-bold text-white text-center mb-4">Planes disponibles en Noviembre 2025</h2>
                        <p class="text-stone-300 text-center mb-12 text-lg">üîí Lista exclusiva con acceso anticipado a beneficios</p>
                        <div class="grid md:grid-cols-3 gap-8">
                            ${[
                                { 
                                    name: 'Mensual', price: mp, period: '/mes', popular: false, 
                                    savings: 'Sin compromiso. Prob√° y cancel√° cuando quieras', 
                                    features: ['‚úÖ Acceso a todos los descuentos', '‚úÖ Sin permanencia m√≠nima', '‚úÖ Cancela cuando quieras', '‚úÖ Soporte por WhatsApp', 'üéÅ Sorteos mensuales'], 
                                    value: 'mensual' 
                                },
                                { 
                                    name: 'Semestral', price: sp, originalPrice: so, period: '/6 meses', popular: true, 
                                    savings: `1 mes GRATIS - Ahorr√°s ${c}${ss}`, discount: '1 MES GRATIS',
                                    features: ['‚úÖ Todos los beneficios', '‚ö° Aviso anticipado de nuevos lugares', 'üîî Notificaciones prioritarias', 'üì≤ Soporte preferencial', 'üéÅ Sorteos exclusivos semestrales', 'üîí Precio bloqueado 6 meses'], 
                                    value: 'semestral' 
                                },
                                { 
                                    name: 'Anual', price: ap, originalPrice: ao, period: '/a√±o', popular: false, 
                                    savings: `2 meses GRATIS - Ahorr√°s ${c}${as}`, discount: '2 MESES GRATIS',
                                    features: ['‚úÖ Todos los beneficios', '‚≠ê Primera notificaci√≥n de partners nuevos', 'üëë Soporte VIP directo', 'üéØ Precio garantizado todo el a√±o', 'üéÅ Participaci√≥n en eventos especiales', 'üíé Descuento en renovaci√≥n'], 
                                    value: 'anual' 
                                }
                            ].map(plan => `
                            <div class="relative bg-gradient-to-br from-neutral-900/80 to-stone-900/80 p-8 rounded-2xl border-2 ${plan.popular ? 'border-rose-600 shadow-2xl shadow-rose-700/30' : 'border-stone-700'} transition-all hover:scale-105">
                                ${plan.popular ? '<div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-rose-700 to-red-700 text-white px-4 py-1 rounded-full text-sm font-bold">M√ÅS ELEGIDO</div>' : ''}
                                ${plan.discount ? `<div class="absolute -top-4 -right-4 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-bold rotate-12">${plan.discount}</div>` : ''}
                                <div class="absolute top-4 right-4">
                                    <div class="bg-red-500/20 border border-red-500/30 rounded-full px-2 py-1">
                                        <span class="text-red-300 text-xs font-bold">AGOTADO</span>
                                    </div>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">${plan.name}</h3>
                                <div class="mb-4">
                                    <span class="text-5xl font-bold text-white">${c}${plan.price}</span>
                                    <span class="text-stone-400">${plan.period}</span>
                                    ${plan.originalPrice ? `<div class="mt-1"><span class="text-stone-500 line-through text-sm">${c}${plan.originalPrice}</span></div>` : ''}
                                </div>
                                <div class="bg-rose-700/20 border border-rose-600/30 rounded-lg px-3 py-2 mb-6">
                                    <p class="text-rose-300 font-semibold text-sm">${plan.savings}</p>
                                </div>
                                <ul class="space-y-3 mb-8">
                                    ${plan.features.map(f => `<li class="flex items-start gap-2 text-stone-300 text-sm">${f}</li>`).join('')}
                                </ul>
                                <button class="open-modal w-full py-3 rounded-xl font-bold transition-all ${plan.popular ? 'bg-gradient-to-r from-rose-700 to-red-700 text-white hover:scale-105 shadow-lg' : 'bg-stone-700 text-white hover:bg-stone-600'}" data-plan="${plan.value}" data-location="pricing">
                                    Reservar ${plan.name}
                                </button>
                            </div>`).join('')}
                        </div>
                        <div class="mt-12 text-center bg-stone-800/50 rounded-xl p-6 border border-rose-700/20">
                            <p class="text-white text-lg font-semibold mb-2">‚úÖ Precio bloqueado al unirte</p>
                            <p class="text-stone-300">Garantizamos estos precios para quienes est√©n en la lista de espera</p>
                        </div>
                    </div>
                </section>

                <section class="py-20 px-4 relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-r from-rose-900/30 to-red-900/30"></div>
                    <div class="max-w-4xl mx-auto text-center relative z-10">
                        <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">¬øListo para ser parte de la lista exclusiva?</h2>
                        <p class="text-xl text-stone-300 mb-8">
                            <strong class="text-white">${state.waitlistCount}+ personas</strong> ya est√°n esperando su acceso
                        </p>
                        <button class="open-modal bg-gradient-to-r from-rose-700 to-red-700 text-white px-12 py-5 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-2xl shadow-rose-700/50" data-plan="semestral" data-location="final">
                            Asegurar mi lugar ahora üç∑
                        </button>
                        <p class="text-stone-400 mt-6 text-sm">‚úì Notificaci√≥n prioritaria ¬∑ ‚úì Precio bloqueado ¬∑ ‚úì Sorteos exclusivos</p>
                    </div>
                </section>

                <footer class="bg-neutral-950 py-8 px-4 border-t border-stone-800">
                    <div class="max-w-6xl mx-auto text-center text-stone-400 text-sm">
                        <p>¬© 2025 WinesOf PASS ¬∑ Todos los derechos reservados</p>
                    </div>
                </footer>
            `;
            
            lucide.createIcons();
        }

        window.addEventListener('scroll', () => {
            const newScrolled = window.scrollY > 50;
            if (newScrolled !== state.scrolled) {
                state.scrolled = newScrolled;
                init();
            }
        });

        setInterval(() => {
            if (Math.random() > 0.7) state.waitlistCount++;
        }, 45000);

        async function start() {
            await detectCountry();
            init();
        }

        start();
    </script>
</body>
</html>